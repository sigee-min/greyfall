# Greyfall Vite env overrides for network policies
# Remove or comment out any lines you don't want to override.

# Debug logging (guarded console.debug in net objects)
VITE_NET_DEBUG=false

# Ack scheduling (host resends / backoff)
VITE_NET_ACK_MAX_ATTEMPTS=3
VITE_NET_ACK_BASE_DELAY_MS=1000
VITE_NET_ACK_MAX_DELAY_MS=5000

# DataChannel queue / backpressure thresholds
VITE_NET_QUEUE_BASE_THRESHOLD=65536      # 64KB
VITE_NET_QUEUE_HIGH_FACTOR=4             # enqueue when buffered > threshold * 4
VITE_NET_QUEUE_FLUSH_FACTOR=2            # pause flushing when buffered > threshold * 2
VITE_NET_QUEUE_MAX=256                   # per-peer max pending messages

# Client patch queue policy (recovery from missing revs)
VITE_NET_PATCH_QUEUE_TIMEOUT_MS=2500     # request snapshot if queued too long
VITE_NET_PATCH_QUEUE_MAX_QUEUED=32       # force snapshot if too many queued revs
VITE_NET_PATCH_QUEUE_DEBOUNCE_MS=250

# Snapshot compression policy (object:replace)
# If JSON payload size exceeds this threshold, value will be base64-json wrapped.
VITE_NET_SNAPSHOT_COMPRESS_OVER_BYTES=262144  # 256KB

# Rate limiter policies (per kind)
# NOTE: Keys for kinds that include ':' use the same character in the env name.
# Some shells dislike ':', but Vite's dotenv parser accepts it in .env files.
VITE_NET_LIMIT_READY_LIMIT=5
VITE_NET_LIMIT_READY_WINDOW_MS=10000

VITE_NET_LIMIT_CHAT_LIMIT=5
VITE_NET_LIMIT_CHAT_WINDOW_MS=10000

VITE_NET_LIMIT_MOVE_LIMIT=10
VITE_NET_LIMIT_MOVE_WINDOW_MS=10000

VITE_NET_LIMIT_TRAVEL:PROPOSE_LIMIT=4
VITE_NET_LIMIT_TRAVEL:PROPOSE_WINDOW_MS=10000

VITE_NET_LIMIT_TRAVEL:VOTE_LIMIT=16
VITE_NET_LIMIT_TRAVEL:VOTE_WINDOW_MS=10000

VITE_NET_LIMIT_OBJECT:REQUEST_LIMIT=5
VITE_NET_LIMIT_OBJECT:REQUEST_WINDOW_MS=10000
# Server (LLM logs ingest)
# HTTP will be used (TLS offloaded at reverse proxy)
PORT=8080
DATA_ROOT=./data/llm-logs
MAX_FILE_SIZE_MB=100
AUTH_BASIC_ENABLED=true
# Format: username:password;username2:password2
AUTH_USERS=admin:admin;viewer:viewer

# Frontend â†’ Logs API (single-hook submit)
# Default: same-origin '/api/llm/logs' via reverse proxy
# VITE_LOGS_SERVER_URL=
VITE_LOGS_BASIC_USER=admin
VITE_LOGS_BASIC_PASS=admin
